var InputfieldDebugMode=false;function consoleLog(a){if(InputfieldDebugMode){console.log(a)}}var InputfieldDependenciesProcessing=false;function InputfieldDependencies(d){var f=jQuery;if(InputfieldDependenciesProcessing){return}if(typeof d=="undefined"){var d=f(".InputfieldForm:not(.InputfieldFormNoDependencies)")}else{if(d.hasClass("InputfieldForm")){if(d.hasClass("InputfieldFormNoDependencies")){return}}else{if(d.closest(".InputfieldFormNoDependencies").length>0){return}}}function i(m){m=jQuery.trim(m);var n=m.substring(0,1);var l=m.substring(m.length-1,m.length);if((n=='"'||n=="'")&&n==l){m=m.substring(1,m.length-1)}return m}function j(l){return h(i(l))}function b(n){var m="";var l=n.indexOf(".");if(l>0){m=n.substring(l+1);n=n.substring(0,l)}return{field:n,subfield:m}}function h(o,m){o=jQuery.trim(o);if(o.length>0&&!jQuery.isNumeric(o)){return o}if(o.length==0){var l=typeof m;if(l!="undefined"){if(l=="integer"){return 0}if(l=="float"){return 0}return o}else{return o}}var p=o.indexOf(".");var n=o.lastIndexOf(".");if(p==-1&&/^-?\d+$/.test(o)){return parseInt(o)}if(n>-1&&p!=n){return o}if(/^-?[\d.]+$/.test(o)){return parseFloat(o)}return o}function c(o,m,n,p){var l=0;switch(m){case"=":if(n==p){l++}break;case"!=":if(n!=p){l++}break;case">":if(n>p){l++}break;case"<":if(n<p){l++}break;case">=":if(n>=p){l++}break;case"<=":if(n<=p){l++}break;case"*=":case"%=":if(n.indexOf(p)>-1){l++}break}consoleLog("Field "+o+" - Current value: "+n);consoleLog("Field "+o+" - Matched? "+(l>0?"YES":"NO"));return l}function e(q,t,n){var x=null;var A;consoleLog("getCheckboxFieldAndValue(see-next-line, "+t+", "+n+")");consoleLog(q);if(n=="count"||n=="count-checkbox"){consoleLog("Using count checkbox condition");x=f("#wrap_Inputfield_"+t+" :input");if(x.length){A=f("#wrap_Inputfield_"+t+" :checked").length;q.subfield="count-checkbox";return{field:x,value:A,condition:q}}return null}consoleLog("Using checkbox value or label comparison option");A=[];for(var r=0;r<q.values.length;r++){var u=new String(q.values[r]);var v=i(u.replace(/\s/g,"_"));consoleLog("conditionValue: "+v);var B="#Inputfield_"+t+"_"+v;x=f(B);var p=x.attr("type");if(x.length){consoleLog("Found "+p+" via value "+B);var o="";if(x.is(":checked")){o=x.val();consoleLog(p+" IS checked: "+B)}else{if(x.attr("type")=="radio"){consoleLog(p+" is NOT checked: "+B);var s=x.closest("form").find('input[name="'+x.attr("name")+'"]:checked');if(s.length){o=s.val();consoleLog("Checked value is: "+o)}}else{consoleLog(p+" is NOT checked: "+B)}}if(o.length){consoleLog("Pushing checked value: "+o);A.push(o)}continue}if(v.length==0||v.match(/^[0-9]+$/)){consoleLog("Unable to locate checkbox "+B+", skipping");continue}consoleLog("Attempting to find checkbox by label: "+v);x=f("#wrap_Inputfield_"+t);var l=x.find("input:checked");for(var z=0;z<l.length;z++){var m=l.eq(z);var w=m.closest("label");if(w.length){var y=jQuery.trim(w.text());if(y==u){consoleLog("Matching checked label found: "+u);A.push(y)}else{consoleLog("Matching checked label not found: "+u)}}}}if(x){return{field:x,value:A,condition:q}}return null}function g(q,z){InputfieldDependenciesProcessing=true;var D=z.attr("id").replace(/wrap_Inputfield_/,"");if(InputfieldDebugMode){consoleLog("-------------------------------------------------------------------");consoleLog('Field "'+D+'" detected a change to a dependency field! Beginning dependency checks...')}var p=0;var K=true;var x=0;var w=0;for(var J=0;J<q.length;J++){var F=q[J];if(InputfieldDebugMode){consoleLog("----");consoleLog("Start Dependency "+J);consoleLog("Condition type: "+F.type);consoleLog("Field: "+F.field);if(F.subfield.length>0){consoleLog("Subfield: "+F.subfield)}consoleLog("Operator: "+F.operator);consoleLog("Required value: "+F.value)}var t=0;for(var r=0;r<F.fields.length;r++){var G=b(F.fields[r]);var s=G.field;var l=G.subfield;var B=null;var C=f("#Inputfield_"+s);var m=false;if(C.length==0){C=f("#"+s)}if(C.length==0){consoleLog("Detected possible checkbox or radio: "+F.field+F.operator+F.value);var I=e(F,s,l);if(I){C=I.field;B=I.value;F=I.condition;m=true}}if(C.length==0){consoleLog("Unable to locate field: "+s);continue}if(B===null){if(C.attr("type")=="checkbox"){B=C.is(":checked")?C.val():null}else{B=C.val()}}var o=[];if(B==null){B=""}if(F.subfield=="count"){B=B.length}if(typeof B=="object"){o=jQuery.makeArray(B)}else{if(typeof B=="array"){o=B}else{o[0]=B}}var H=1;if(F.operator=="!="){H=(o.length*F.values.length)}if((C.attr("type")=="checkbox"||C.attr("type")=="radio")&&!C.is(":checked")){if(f("#Inputfield_"+s+"_0").length==0){o[1]="0"}}for(var A=0;A<o.length;A++){for(var E=0;E<F.values.length;E++){var y=h(o[A],F.values[E]);t+=c(s,F.operator,y,F.values[E])}}if(t>=H){break}}consoleLog("----");if(F.type=="show"){if(t>=H){}else{K=false}}else{if(F.type=="required"){if(t>0){x++}else{w++}}}}var u=x>0&&w==0;if(K){consoleLog('Determined that field "'+D+'" should be visible.');if(z.is(".InputfieldStateHidden")){z.removeClass("InputfieldStateHidden").show();f(document).trigger("showInputfield",z);p++;consoleLog("Field is now visible.")}else{consoleLog("Field is already visible.")}}else{consoleLog('Determined that field "'+D+'" should be hidden.');if(!z.is(".InputfieldStateHidden")){z.addClass("InputfieldStateHidden").hide();f(document).trigger("hideInputfield",z);consoleLog("Field is now hidden.");p++}else{consoleLog("Field is already hidden.")}if(u){consoleLog("Field is required but cancelling that since it is not visible.");u=false}}if(u&&x>0){consoleLog('Determined that field "'+D+'" should be required.');z.addClass("InputfieldStateRequired").find(":input:visible[type!=hidden]").addClass("required")}else{if(!u&&w>0){consoleLog('Determined that field "'+D+'" should not be required.');z.removeClass("InputfieldStateRequired").find(":input.required").removeClass("required")}}if(p>0){consoleLog(p+" visibility changes were made.");InputfieldColumnWidths();f(window).resize()}InputfieldDependenciesProcessing=false}function a(A,o,t){var B=t.attr("data-"+A+"-if");if(!B||B.length<1){return o}B=f("<div />").html(B).text();consoleLog("-------------------------------------------------------------------");consoleLog('Analyzing "'+A+'" selector: '+B);var w=B.match(/(^|,)([^,]+)/g);for(var x=0;x<w.length;x++){var z=w[x];var p=z.match(/^[,\s]*([_.|a-zA-Z0-9]+)(=|!=|<=|>=|<|>|%=)([^,]+),?$/);if(!p){continue}var l=p[1];var r=p[2];var y=p[3];var s="";var u=[];var m=[];if(l.indexOf("|")>-1){consoleLog("OR field dependency: "+l);u=l.split("|")}else{u=[l]}var E=b(l);l=E.field;s=E.subfield;if(InputfieldDebugMode){consoleLog("Field: "+l);if(s.length){consoleLog("Subfield: "+s)}consoleLog("Operator: "+r);consoleLog("value: "+y)}if(y.indexOf("|")>-1){consoleLog("OR value dependency: "+y);m=y.split("|");for(var C=0;C<m.length;C++){m[C]=j(m[C])}}else{m=[j([y])]}var D={type:A,field:l,fields:u,subfield:s,operator:r,value:y,values:m};o[o.length]=D;for(var q=0;q<u.length;q++){var E=b(u[q]);var F=E.field;var v=f("#Inputfield_"+F);if(v.length==0){consoleLog("Unable to find inputfield by: #Inputfield_"+F);v=f("#"+F);if(v.length==0){consoleLog("Unable to find inputfield by: #"+F)}}if(v.length==0){v=f("#wrap_Inputfield_"+F).find(":input");if(v.length==0){consoleLog("Unable to find inputfield by: #wrap_Inputfield_"+F+" :input")}}if(v.length){consoleLog("Attaching change event for: "+v.attr("name"));v.change(function(){g(o,t)})}else{consoleLog("Failed to find inputfield, no change event attached")}}}return o}function k(m){var l=[];l=a("show",l,m);l=a("required",l,m);g(l,m)}InputfieldDependenciesProcessing=true;d.each(function(){f(this).find(".InputfieldStateShowIf, .InputfieldStateRequiredIf").each(function(){k(f(this))})});InputfieldDependenciesProcessing=false}function InputfieldColumnWidths(c){var e=jQuery;var h=true;if(typeof c=="undefined"){h=false;c=e("form.InputfieldForm")}var m=null;var n=null;function j(o){if(o.is(".InputfieldStateHidden")){return 0}var q=o.attr("data-colwidth");if(typeof q=="undefined"||!q.length){var p=o.attr("style");if(typeof p=="undefined"||!p){return o.width()}var q=parseInt(p.match(/width:\s*(\d+)/i)[1])}else{q=parseInt(q)}if(!o.attr("data-original-width")){o.attr("data-original-width",q)}return q}function l(p){var o=parseInt(p.attr("data-original-width"));if(o==0){o=j(p)}return o}function g(p,q,o){p.width(q+"%");if(o){p.css("opacity",0.5);p.animate({opacity:1},150,function(){})}consoleLog("setWidth("+p.attr("id")+": "+q+"%")}function f(o){return o.height()}function i(o,r){var p=f(o);consoleLog("setHeight: "+o.find("label").text()+" >> "+r+" ("+p+")");if(p==r){return}if(o.hasClass("InputfieldStateCollapsed")){return}var s=r-p;if(s<0){s=0}var t=o.children(".InputfieldContent, .ui-widget-content");if(s==0){}else{consoleLog("Adjusting "+o.attr("id")+" from "+p+" to "+r);var q=e("<div class='maxColHeightSpacer'></div>");t.append(q);t.hide();q.height(s);t.show()}}function b(s){var w=s.nextUntil(".InputfieldColumnWidthFirst",".InputfieldColumnWidth:not(.InputfieldStateHidden)");var r=s.is(".InputfieldStateHidden")?0:j(s);var z=s.is(".InputfieldStateHidden")?null:s;var x=z==null?0:r;var y=w.length;if(s.is(".InputfieldStateHidden")){y--;var t=w.eq(0)}else{var t=s}if(n){t.find(".maxColHeightSpacer").remove();w.find(".maxColHeightSpacer").remove()}var p=100-(y*m);var o=n?f(t):0;w.removeClass("InputfieldColumnWidthFirstTmp");w.each(function(){z=e(this);x=j(z);r+=x;if(n){var A=f(z);if(A>o){o=A}}});if(n){if(InputfieldDebugMode){var u=t.find("label").text();consoleLog("maxColHeight: "+u+" = "+o)}if(o>0){i(t,o);w.each(function(){i(e(this),o)})}}if(r<p){consoleLog("Expand width of row because rowWidth < maxRowWidth ("+r+" < "+p+")");var v=(p-r);consoleLog("leftoverWidth: "+v);x=x+v;if(z==null&&!s.is(".InputfieldStateHidden")){z=s}if(z){var q=l(z);if(q>0&&x<q){x=q}g(z,x,true)}}else{if(r>p){consoleLog("Reduce width of row because rowWidth > maxRowWidth ("+r+" > "+p+")");if(!s.is(".InputfieldStateHidden")){w=s.add(w)}r=0;w.each(function(){z=e(this);x=l(z);if(x>0){g(z,x,false)}r+=x});var v=p-r;x+=v;var q=l(z);if(q>0&&x<q){x=q}g(z,x,false)}}if(s.is(".InputfieldStateHidden")){t.addClass("InputfieldColumnWidthFirstTmp")}}var a=0;c.each(function(){var p=e(this);if(!p.hasClass("InputfieldForm")){var o=p.closest(".InputfieldForm");if(o.length){p=o}}if(p.hasClass("InputfieldFormNoWidths")){return}m=p.attr("data-colspacing");if(typeof m=="undefined"){m=1}n=p.hasClass("InputfieldFormNoHeights")?false:true;e(".Inputfield:not(.InputfieldColumnWidth)",p).addClass("InputfieldColumnWidthFirst");e(".InputfieldColumnWidthFirst.InputfieldColumnWidth:visible",p).each(function(){b(e(this))});a++});if(!a){}else{if(!e("body").hasClass("InputfieldColumnWidthsInit")){e("body").addClass("InputfieldColumnWidthsInit");var d=null;var k=function(){var p=e(this);var o=function(){var q=p.hasClass("InputfieldColumnWidth")?p:p.closest(".InputfieldColumnWidth");var r=q.hasClass("InputfieldColumnWidthFirst")?q:q.prev(".InputfieldColumnWidthFirst");if(r.length){b(r)}};if(p.is(":input")){if(d){clearTimeout(d)}d=setTimeout(o,1000)}else{o()}};e(document).on("change",".InputfieldColumnWidth :input",k);e(document).on("AjaxUploadDone",".InputfieldFileList",k);e(document).on("heightChanged",".InputfieldColumnWidth",k)}}}function InputfieldFormBeforeUnloadEvent(c){var b=jQuery;var a=b(".InputfieldFormConfirm:not(.InputfieldFormSubmitted) .InputfieldStateChanged");if(a.length==0){return}var d=b(".InputfieldFormConfirm:eq(0)").attr("data-confirm")+"\n";a.each(function(){var e=b(this).find(".InputfieldHeader:eq(0)");if(e.length){name=e.text()}else{name=b(this).attr("data-label");if(!name||!name.length){name=b(this).find(":input").attr("name")}}if(name.length){d+="\n• "+b.trim(name)}});(c||window.event).returnValue=d;return d}function InputfieldFocus(a){if(!a.hasClass("Inputfield")){a=a.closest(".Inputfield")}if(!a.length){return}if(a.hasClass("InputfieldStateCollapsed")||!a.is(":visible")){InputfieldToggle(a,true,0,function(l,j,k){InputfieldFocus(l)});return}var g=false;if(a.hasClass("InputfieldNoFocus")){}else{var f=a.find(":input:visible:enabled:not(button):not(.InputfieldNoFocus):first");if(f.length){if(f.css("position")=="absolute"||f.is("button")){}else{var h=f.attr("type");if(f.is("textarea")||h=="text"||h=="email"||h=="url"||h=="number"){f.focus();g=true}}}}if(!g){var i=jQuery(window).scrollTop();var c=i+jQuery(window).height();var d=a.offset().top;var b=d+a.height();var e=((d<=c)&&(b>=i));if(!e){setTimeout(function(){jQuery("html, body").animate({scrollTop:a.offset().top-10},100)},100)}}}function InputfieldToggle(a,k,f,l){if(!a.length){return}if(!a.hasClass("Inputfield")){a=a.closest(".Inputfield")}var b=a.children(".InputfieldHeader, .ui-widget-header");var c=a.children(".InputfieldContent, .ui-widget-content");var d=b.find(".toggle-icon");var j=a.hasClass("InputfieldStateCollapsed");if(a.hasClass("InputfieldAjaxLoading")){return false}if(a.hasClass("InputfieldStateToggling")){return false}if(typeof k=="undefined"||k===null){var k=j}if(typeof f=="undefined"){var f=100}function i(){if(typeof l!="undefined"){l(a,k,f)}}function e(){if(a.css("overflow")=="hidden"){a.css("overflow","")}d.toggleClass(d.attr("data-to"));a.removeClass("InputfieldStateToggling");setTimeout("InputfieldColumnWidths()",500);i()}function h(){a.trigger("opened");if(a.hasClass("InputfieldColumnWidth")){a.children(".InputfieldContent").show()}if(!a.hasClass("InputfieldNoFocus")){InputfieldFocus(a)}e()}function m(){if(a.css("overflow")=="hidden"){a.css("overflow","")}a.trigger("closed");if(a.hasClass("InputfieldColumnWidth")){a.children(".InputfieldContent").hide()}e()}if(k&&!a.is(":visible")){var o=a.parents(".InputfieldWrapper").last();if(o.length&&!o.is(":visible")){var g=jQuery("#_"+o.attr("id"));if(g.length){o.show();setTimeout(function(){g.click()},25)}}var n=a.closest(".InputfieldStateCollapsed");if(n.length){InputfieldToggle(n,true,f,function(p){InputfieldToggle(p,true,f,l)})}}if(k&&!j){i();return}if(!k&&j){i();return}if(j&&(a.hasClass("collapsed10")||a.hasClass("collapsed11"))){d.click();return}if(k&&j){a.addClass("InputfieldStateToggling").trigger("openReady");a.toggleClass("InputfieldStateCollapsed",f,h)}else{if(!k&&!j){a.addClass("InputfieldStateToggling").trigger("closeReady");a.toggleClass("InputfieldStateCollapsed",f,m)}}}function InputfieldOpen(a,b){InputfieldToggle(a,true,b)}function InputfieldClose(a,b){InputfieldToggle(a,false,b)}function InputfieldStates(a){var e=true;var f=jQuery;if(typeof a=="undefined"){a=f("body");e=false}function c(m){function k(p,u){var r=f("<i class='fa fa-spin fa-spinner'></i>");var t=p.offset();var o;var q=10;var s=0;var n=0.8;f("body").append(r.hide());if(p.is("a")&&p.closest("ul").hasClass("uk-tab")){n=0.1}r.css({position:"absolute",top:t.top-(r.height()+5),left:t.left+(p.width()/2)+(r.width()*n)}).fadeIn();o=setInterval(function(){if(++s>q||!u.hasClass("InputfieldAjaxLoading")){clearInterval(o);r.fadeOut("normal",function(){r.remove()})}},500)}var l=m.children(".InputfieldContent").children(".renderInputfieldAjax");var g=false;if(!l.length){l=m.children(".renderInputfieldAjax");g=true}var j=l.children("input").attr("value");if(typeof j=="undefined"||j.length<1){return false}var i=null;if(g){var h=f("#_"+m.attr("id"));k(h,m)}else{var h=m.children(".InputfieldHeader");i=f("<i class='fa fa-spin fa-spinner'></i>");i.css("margin-left","0.5em");h.append(i)}m.removeClass("collapsed10 collapsed11").addClass("InputfieldAjaxLoading");f.get(j,function(p){m.removeClass("InputfieldAjaxLoading InputfieldStateCollapsed");var n=m.children(".InputfieldHeader").find(".toggle-icon");if(n.length){n.toggleClass(n.attr("data-to"))}l.replaceWith(f(p)).hide();l.slideDown();var o=m.find(".Inputfield");if(o.length){o.trigger("reloaded",["InputfieldAjaxLoad"]);InputfieldStates(m);InputfieldRequirements(m);InputfieldColumnWidths()}else{m.trigger("reloaded",["InputfieldAjaxLoad"])}if(m.closest(".InputfieldFormNoDependencies").length==0){InputfieldDependencies(m.parent())}setTimeout(function(){if(i){i.fadeOut("fast",function(){i.remove()})}if(g){h.effect("highlight",500)}else{h.click()}},500)},"html");return true}f(".Inputfield:not(.collapsed9) > .InputfieldHeader, .Inputfield:not(.collapsed9) > .ui-widget-header",a).addClass("InputfieldStateToggle");var b=f(".Inputfields .InputfieldStateCollapsed > .InputfieldHeader i.toggle-icon, .Inputfields .InputfieldStateCollapsed > .ui-widget-header i.toggle-icon",a);b.toggleClass(b.attr("data-to"));if(typeof ProcessWire!="undefined"){var d=ProcessWire.config}if(typeof d!=="undefined"&&d.debug){f("label.InputfieldHeader > i.toggle-icon",a).hover(function(){var g=f(this).parent("label");if(g.length==0){return}var i=g.attr("for").replace(/^Inputfield_/,"");if(i.length){var h=f("<small class='InputfieldNameTip ui-priority-secondary'>&nbsp;"+i+"&nbsp;</small>");h.css("float","right");g.append(h)}},function(){var g=f(this).parent("label");if(g.length==0){return}g.find(".InputfieldNameTip").remove()})}if(e){return}f(document).on("wiretabclick",function(i,h,g){if(h.hasClass("collapsed10")){c(h)}});f(document).on("click",".InputfieldStateToggle, .toggle-icon",function(g,k){var j=f(this);var n=j.closest(".Inputfield");var h=j.hasClass("toggle-icon");var m=h?j:n.children(".InputfieldHeader, .ui-widget-header").find(".toggle-icon");var l=n.hasClass("InputfieldStateCollapsed");var q=n.hasClass("InputfieldStateWasCollapsed");var i=100;if(!n.length){return}if(n.hasClass("InputfieldAjaxLoading")){return false}if(n.hasClass("InputfieldStateToggling")){return false}if(typeof k!="undefined"){if(typeof k.duration!="undefined"){i=k.duration}}if(l&&(n.hasClass("collapsed10")||n.hasClass("collapsed11"))){if(c(n)){return false}}if(l||q||h){n.addClass("InputfieldStateWasCollapsed");InputfieldToggle(n,null,i)}else{if(typeof jQuery.ui!="undefined"){var p=m.css("color");var o=n.children(".InputfieldHeader, .ui-widget-header").css("color");m.css("color",o);m.effect("pulsate",300,function(){m.css("color",p)})}InputfieldFocus(n)}return false});f("#content .InputfieldFormFocusFirst:not(.InputfieldFormNoFocus)").find("input[type=text]:enabled:first:not(.hasDatepicker):not(.InputfieldNoFocus)").each(function(){var g=f(this);if(g.val()){return}if(g.offset().top<f(window).height()){window.setTimeout(function(){if(g.is(":visible")){g.focus()}},250)}});f(document).on("change",".InputfieldFormConfirm :input, .InputfieldFormConfirm .Inputfield",function(){var g=f(this);if(g.hasClass("Inputfield")){if(!g.hasClass("InputfieldIgnoreChanges")){g.addClass("InputfieldStateChanged")}return false}else{if(g.hasClass("InputfieldIgnoreChanges")||g.closest(".InputfieldIgnoreChanges").length){return false}g.closest(".Inputfield").addClass("InputfieldStateChanged")}});f(document).on("submit",".InputfieldFormConfirm",function(){f(this).addClass("InputfieldFormSubmitted")});f(document).on("dragenter",".InputfieldHasUpload.InputfieldStateCollapsed",function(h){var g=h.originalEvent.dataTransfer;if(g.types&&(g.types.indexOf?g.types.indexOf("Files")!==-1:g.types.contains("Files"))){InputfieldOpen(f(this))}});window.addEventListener("beforeunload",InputfieldFormBeforeUnloadEvent)}function InputfieldIntentions(){var a=jQuery;a(".InputfieldForm").each(function(){var b=a(this);var c=null;var d=null;b.submit(function(){if(!a(this).hasClass("nosubmit")){return}if(!d){return}var f=null;var e=d.closest(".Inputfields");do{f=e.find("input[type=submit]:visible, button[type=submit]:visible");if(f.length>0){break}e=e.parent().closest(".Inputfields")}while(e.length>0);if(f.length>0){var g=f.eq(0);a("html, body").animate({scrollTop:g.offset().top},"fast");g.focus()}return false}).on("focus","input, select",function(){if(c===null){c=b.find("input[type=submit], button[type=submit]").length}if(c<2){return}b.addClass("nosubmit");d=a(this)}).on("blur","input, select",function(){b.removeClass("nosubmit")})});if(a("input[type=file]").length){a(document).on({dragover:function(){if(a(this).is("input[type=file]")){return}return false},drop:function(){if(a(this).is("input[type=file]")){return}return false}})}}var InputfieldWindowResizeQueued=false;function InputfieldWindowResizeActions1(){consoleLog("InputfieldWindowResizeActions1()");jQuery(".Inputfield").trigger("resized")}function InputfieldWindowResizeActions2(){consoleLog("InputfieldWindowResizeActions2()");InputfieldColumnWidths();InputfieldWindowResizeQueued=false}function InputfieldRequirements(a){jQuery(":input[required]",a).on("invalid",function(){var b=jQuery(this);InputfieldFocus(jQuery(this))})}function InputfieldReloadEvent(e,d){console.log("InputfieldReloadEvent "+$(this).attr("id"));var g=$(this);var b=g.closest("form");var f=g.attr("id").replace("wrap_Inputfield_","");var c=b.attr("action");if(f.indexOf("_repeater")>0){var a=g.closest(".InputfieldRepeaterItem").attr("data-page");c=c.replace(/\?id=\d+/,"?id="+a);f=f.replace(/_repeater\d+$/,"")}c+=c.indexOf("?")>-1?"&":"?";c+="field="+f+"&reloadInputfieldAjax="+f;if(typeof d!="undefined"){if(typeof d.queryString!="undefined"){c+="&"+d.queryString}}consoleLog("Inputfield reload: "+f);$.get(c,function(i){var j=g.attr("id");var h=jQuery(i).find("#"+j).children(".InputfieldContent");if(!h.length&&j.indexOf("_repeater")>-1){j="wrap_Inputfield_"+f;h=jQuery(i).find("#"+j).children(".InputfieldContent");if(!h.length){console.log("Unable to find #"+g.attr("id")+" in response from "+c)}}g.children(".InputfieldContent").html(h.html());g.trigger("reloaded",["reload"])});e.stopPropagation()}function InputfieldsInit(a){InputfieldStates(a);InputfieldDependencies(a);InputfieldRequirements(a);setTimeout(function(){InputfieldColumnWidths()},100)}jQuery(document).ready(function(a){InputfieldStates();InputfieldDependencies(a(".InputfieldForm:not(.InputfieldFormNoDependencies)"));InputfieldIntentions();setTimeout(function(){InputfieldColumnWidths()},100);var b=function(){if(InputfieldWindowResizeQueued){return}InputfieldWindowResizeQueued=true;setTimeout("InputfieldWindowResizeActions1()",1000);setTimeout("InputfieldWindowResizeActions2()",2000)};a(window).resize(b);a("ul.WireTabs > li > a").click(function(){if(InputfieldWindowResizeQueued){return}InputfieldWindowResizeQueued=true;setTimeout("InputfieldWindowResizeActions1()",250);setTimeout("InputfieldWindowResizeActions2()",500);return true});InputfieldRequirements(a(".InputfieldForm"));a(document).on("reload",".Inputfield",InputfieldReloadEvent)});